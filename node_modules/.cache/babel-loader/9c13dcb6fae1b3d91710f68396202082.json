{"ast":null,"code":"import _classCallCheck from \"/Volumes/Angela He/treehacks/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Volumes/Angela He/treehacks/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Volumes/Angela He/treehacks/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Volumes/Angela He/treehacks/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Volumes/Angela He/treehacks/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Volumes/Angela He/treehacks/src/components/User/CheckinModule.js\";\nimport React from 'react';\nimport AddCheckin from '../Network/AddCheckin';\nimport $ from 'jquery';\nimport CheckInRow from '../Network/CheckinRow';\nimport autosize from 'autosize';\nimport StaticUserData from '../../data/StaticUserData';\n\nvar CheckinModule =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(CheckinModule, _React$Component);\n\n  function CheckinModule(props) {\n    var _this;\n\n    _classCallCheck(this, CheckinModule);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CheckinModule).call(this, props));\n\n    _this.setAddMode = function (bool) {\n      return _this.setState({\n        addMode: bool\n      });\n    };\n\n    _this.addCheckin = function (obj) {\n      _this.props.firebase.user(_this.props.uid).update({\n        checkins: _this.props.firebase.arrayUnion(obj)\n      });\n    };\n\n    _this.removeCheckin = function (obj) {\n      _this.props.firebase.user(_this.props.uid).update({\n        checkins: _this.props.firebase.arrayRemove(obj)\n      });\n    };\n\n    _this.setCheckinFreq = function (triggeredIndex) {\n      var tempFreq = _this.state.checkinFreq;\n      tempFreq[triggeredIndex] = !tempFreq[triggeredIndex];\n\n      _this.props.setCheckinFreq(tempFreq);\n    };\n\n    _this.state = {\n      checkins: _this.props.checkins,\n      checkinFreq: _this.props.checkinFreq,\n      addMode: false\n    };\n    return _this;\n  }\n\n  _createClass(CheckinModule, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      autosize($('textarea'));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var checkins, addQ, freq;\n      var freqButtons = StaticUserData.getDaysOfWeek().map(function (item, index) {\n        var className = \"\";\n\n        if (_this2.state.checkinFreq[index] == false) {\n          className = \"disable\";\n        }\n\n        if (_this2.props.editMode) {\n          return React.createElement(\"button\", {\n            key: 'freq_' + index,\n            className: className,\n            onClick: function onClick() {\n              return _this2.setCheckinFreq(index);\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 58\n            },\n            __self: this\n          }, item);\n        } else {\n          return React.createElement(\"div\", {\n            key: 'freq_' + index,\n            className: className,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 66\n            },\n            __self: this\n          }, item);\n        }\n      });\n      freq = React.createElement(\"div\", {\n        className: \"freq-days\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, freqButtons);\n\n      if (this.state.addMode) {\n        addQ = React.createElement(AddCheckin, {\n          setAddMode: this.setAddMode,\n          uid: this.props.uid,\n          addCheckin: this.addCheckin,\n          categories: this.props.checkinCategories,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81\n          },\n          __self: this\n        });\n      } else {\n        addQ = React.createElement(\"button\", {\n          className: \"add-checkin long\",\n          onClick: function onClick() {\n            _this2.setAddMode(true);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 90\n          },\n          __self: this\n        }, \"Add check-in\");\n      }\n\n      checkins = {};\n\n      for (var i = 0; i < this.state.checkins.length; i++) {\n        var checkin = this.state.checkins[i];\n\n        if (checkin.category == null || checkin.category == '') {\n          checkin.category = StaticUserData.getMiscCategory();\n        }\n\n        if (!(checkin.category in checkins)) {\n          checkins[checkin.category] = [];\n        }\n\n        checkins[checkin.category].push(React.createElement(CheckInRow, {\n          key: 'checkin_' + i,\n          checkin: checkin,\n          removeCheckin: this.removeCheckin,\n          trash: this.state.editMode,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110\n          },\n          __self: this\n        }));\n      }\n\n      var checkinsEl = [];\n\n      for (var _i = 0; _i < checkins.length; _i++) {\n        var category = checkins[_i];\n        var el = React.createElement(\"div\", {\n          key: 'category_' + _i,\n          className: \"qcat \" + category,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122\n          },\n          __self: this\n        }, React.createElement(\"h2\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125\n          },\n          __self: this\n        }, category), React.createElement(\"ul\", {\n          className: \"your-checkins\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126\n          },\n          __self: this\n        }, checkins[category]));\n\n        if (category == StaticUserData.getMiscCategory()) {\n          console.log(category + ' is misc ');\n          checkinsEl.push(el);\n        } else {\n          checkinsEl.unshift(el);\n        }\n      }\n\n      return React.createElement(\"div\", {\n        className: \"check-in-edit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141\n        },\n        __self: this\n      }, \"Your check-in\"), React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 143\n        },\n        __self: this\n      }, \"Check-in frequency\"), freq, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, \"Check-in questions\"), React.createElement(\"div\", {\n        className: \"checkinQs\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, checkinsEl), addQ);\n    }\n  }]);\n\n  return CheckinModule;\n}(React.Component);\n\nexport default CheckinModule;","map":{"version":3,"sources":["/Volumes/Angela He/treehacks/src/components/User/CheckinModule.js"],"names":["React","AddCheckin","$","CheckInRow","autosize","StaticUserData","CheckinModule","props","setAddMode","bool","setState","addMode","addCheckin","obj","firebase","user","uid","update","checkins","arrayUnion","removeCheckin","arrayRemove","setCheckinFreq","triggeredIndex","tempFreq","state","checkinFreq","addQ","freq","freqButtons","getDaysOfWeek","map","item","index","className","editMode","checkinCategories","i","length","checkin","category","getMiscCategory","push","checkinsEl","el","console","log","unshift","Component"],"mappings":"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","sourcesContent":["\nimport React from 'react';\nimport AddCheckin from '../Network/AddCheckin';\nimport $ from 'jquery';\nimport CheckInRow from '../Network/CheckinRow';\nimport autosize from 'autosize';\nimport StaticUserData from '../../data/StaticUserData'\n\nclass CheckinModule extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      checkins: this.props.checkins,\n      checkinFreq: this.props.checkinFreq,\n      addMode: false,\n    };\n  }\n\n  componentDidMount() {\n    autosize($('textarea'));\n  }\n\n  setAddMode = (bool) => this.setState({ addMode: bool });\n\n  addCheckin = (obj) => {\n    this.props.firebase\n      .user(this.props.uid)\n      .update({\n        checkins: this.props.firebase.arrayUnion(obj)\n      });\n  }\n\n  removeCheckin = (obj) => {\n    this.props.firebase\n      .user(this.props.uid)\n      .update({\n        checkins: this.props.firebase.arrayRemove(obj)\n      });\n  }\n\n  setCheckinFreq = (triggeredIndex) => {\n    let tempFreq = this.state.checkinFreq;\n    tempFreq[triggeredIndex] = !tempFreq[triggeredIndex];\n    this.props.setCheckinFreq(tempFreq);\n  }\n\n  render() {\n    let checkins,\n      addQ,\n      freq;\n\n    let freqButtons = StaticUserData.getDaysOfWeek().map((item, index) => {\n      let className = \"\";\n      if (this.state.checkinFreq[index] == false) {\n        className = \"disable\";\n      }\n      if (this.props.editMode) {\n        return <button\n          key={'freq_' + index}\n          className={className}\n          onClick={() => this.setCheckinFreq(index)}>\n          {item}\n        </button>;\n      }\n      else {\n        return <div\n          key={'freq_' + index}\n          className={className}>\n          {item}\n        </div>;\n      }\n    });\n    freq = (\n      <div className=\"freq-days\">\n        {freqButtons}\n      </div>\n    );\n\n    if (this.state.addMode) {\n      addQ = (\n        <AddCheckin\n          setAddMode={this.setAddMode}\n          uid={this.props.uid}\n          addCheckin={this.addCheckin}\n          categories={this.props.checkinCategories}\n        />\n      );\n    } else {\n      addQ = (\n        <button \n        className=\"add-checkin long\" \n        onClick={() => { this.setAddMode(true) }}>\n        Add check-in\n        </button>\n      );\n    }\n\n    checkins = {};\n    for (let i = 0; i < this.state.checkins.length; i++) {\n      let checkin = this.state.checkins[i];\n      if (checkin.category == null || checkin.category == '') {\n        checkin.category = StaticUserData.getMiscCategory();\n      }\n\n      if (!(checkin.category in checkins)) {\n        checkins[checkin.category] = [];\n      }\n\n      checkins[checkin.category].push(\n        <CheckInRow\n          key={'checkin_' + i}\n          checkin={checkin}\n          removeCheckin={this.removeCheckin}\n          trash={this.state.editMode}\n        />\n      );\n    }\n\n    let checkinsEl = [];\n    for (let i = 0; i < checkins.length; i++) {\n      let category = checkins[i];\n      let el = <div\n        key={'category_' + i}\n        className={\"qcat \" + category}>\n        <h2>{category}</h2>\n        <ul className=\"your-checkins\">\n          {checkins[category]}\n        </ul>\n      </div>;\n\n      if (category == StaticUserData.getMiscCategory()) {\n        console.log(category + ' is misc ');\n        checkinsEl.push(el);\n      } else {\n        checkinsEl.unshift(el);\n      }\n    }\n\n    return (\n      <div className=\"check-in-edit\">\n        <h2>Your check-in</h2>\n\n        <h3>Check-in frequency</h3>\n        {freq}\n\n        <h3>Check-in questions</h3>\n        <div className=\"checkinQs\">\n          {checkinsEl}\n        </div>\n        {addQ}\n      </div>\n    );\n  }\n}\n\n\nexport default CheckinModule;"]},"metadata":{},"sourceType":"module"}