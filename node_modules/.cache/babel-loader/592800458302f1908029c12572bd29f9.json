{"ast":null,"code":"import _classCallCheck from \"/Volumes/Angela He/treehacks/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Volumes/Angela He/treehacks/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Volumes/Angela He/treehacks/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Volumes/Angela He/treehacks/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Volumes/Angela He/treehacks/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Volumes/Angela He/treehacks/src/components/User/Settings/Settings.js\";\nimport React from 'react';\nimport LogoutAccount from './LogoutAccount';\nimport DeleteAccount from './DeleteAccount';\nimport Header from '../../Misc/Header';\nimport EditSecurity from './EditSecurity';\nimport Notifications from './Notifications';\nimport Filtering from './Filtering';\nimport Muted from './Muted';\nimport Help from './Help';\nimport StaticUtil from '../../../data/StaticUtil';\nimport Toast from '../../Misc/Toast';\n/*\nprops:\n  firebase\n  uid\n  removeUser\n  updateUserData\n  goBack\n*/\n\nvar Settings =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Settings, _React$Component);\n\n  function Settings(props) {\n    var _this;\n\n    _classCallCheck(this, Settings);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Settings).call(this, props));\n\n    _this.setSettingState = function (state) {\n      _this.setState({\n        settingState: state\n      });\n    };\n\n    _this.setToast = function (state) {\n      _this.setState({\n        showToast: state\n      });\n    };\n\n    _this.verifyEmail = function (email) {\n      if (!StaticUtil.isValidEmail(email)) return 'Invalid email.';\n      return '';\n    };\n\n    _this.updateEmail = function (email) {\n      _this.props.firebase.doEmailUpdate(email, _this.updateSucceeded, _this.updateFailed);\n\n      _this.props.firebase.user(_this.props.uid).update({\n        email: email\n      });\n\n      _this.props.updateUserData('email', email);\n    };\n\n    _this.verifyPassword = function (pword) {\n      if (pword.length < 6) return 'Password must be 6 characters or more.';\n      return '';\n    };\n\n    _this.updatePassword = function (password) {\n      _this.props.firebase.doPasswordUpdate(password, _this.updateSucceeded, _this.updateFailed);\n    };\n\n    _this.updateSucceeded = function () {\n      _this.returnHome();\n\n      _this.setToast(React.createElement(Toast, {\n        message: 'Awesome! Updated.',\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }));\n    };\n\n    _this.updateFailed = function (error) {\n      _this.returnHome();\n\n      _this.setToast(React.createElement(Toast, {\n        message: 'Sorry, couldn\\'t update - ' + error.message,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }));\n    };\n\n    _this.returnHome = function () {\n      return _this.setSettingState(_this.state.SETTING_STATES.Home);\n    };\n\n    var SETTING_STATES = {\n      Home: {},\n      Email: {\n        element: React.createElement(EditSecurity, {\n          goBack: _this.returnHome,\n          changing: \"email\",\n          inputType: \"email\",\n          verifyInput: _this.verifyEmail,\n          successCallback: _this.updateEmail,\n          firebase: _this.props.firebase,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 28\n          },\n          __self: this\n        })\n      },\n      Password: {\n        element: React.createElement(EditSecurity, {\n          goBack: _this.returnHome,\n          changing: \"password\",\n          inputType: \"password\",\n          verifyInput: _this.verifyPassword,\n          successCallback: _this.updatePassword,\n          firebase: _this.props.firebase,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 38\n          },\n          __self: this\n        })\n      },\n      Notifications: {\n        element: React.createElement(\"section\", {\n          className: \"user\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49\n          },\n          __self: this\n        }, React.createElement(Header, {\n          goBack: _this.returnHome,\n          title: \"Notifications\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 50\n          },\n          __self: this\n        }), React.createElement(Notifications, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 54\n          },\n          __self: this\n        }))\n      },\n      Filtering: {\n        element: React.createElement(\"section\", {\n          className: \"user\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        }, React.createElement(Header, {\n          goBack: _this.returnHome,\n          title: \"Filtering\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 60\n          },\n          __self: this\n        }), React.createElement(Filtering, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64\n          },\n          __self: this\n        }))\n      },\n      Muted: {\n        element: React.createElement(Muted, {\n          goBack: _this.returnHome,\n          firebase: _this.props.firebase,\n          uid: _this.props.uid,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68\n          },\n          __self: this\n        })\n      },\n      Help: {\n        element: React.createElement(\"section\", {\n          className: \"user\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 76\n          },\n          __self: this\n        }, React.createElement(Header, {\n          goBack: _this.returnHome,\n          title: \"Help Center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77\n          },\n          __self: this\n        }), React.createElement(Help, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 81\n          },\n          __self: this\n        }))\n      }\n    };\n    _this.state = {\n      SETTING_STATES: SETTING_STATES,\n      settingState: SETTING_STATES.Home,\n      showToast: null\n    };\n    return _this;\n  }\n\n  _createClass(Settings, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state = this.state,\n          SETTING_STATES = _this$state.SETTING_STATES,\n          settingState = _this$state.settingState;\n\n      if (settingState == SETTING_STATES.Home) {\n        return React.createElement(\"section\", {\n          className: \"user\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141\n          },\n          __self: this\n        }, React.createElement(Header, {\n          goBack: this.props.goBack,\n          title: \"Settings\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 142\n          },\n          __self: this\n        }), React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 146\n          },\n          __self: this\n        }, \"Security\"), React.createElement(\"button\", {\n          onClick: function onClick() {\n            _this2.setSettingState(SETTING_STATES.Email);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 147\n          },\n          __self: this\n        }, \"Email\"), React.createElement(\"button\", {\n          onClick: function onClick() {\n            _this2.setSettingState(SETTING_STATES.Password);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150\n          },\n          __self: this\n        }, \"Password\"), React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154\n          },\n          __self: this\n        }, \"Permissions\"), React.createElement(\"button\", {\n          onClick: function onClick() {\n            _this2.setSettingState(SETTING_STATES.Notifications);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 155\n          },\n          __self: this\n        }, \"Notifications\"), React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 159\n          },\n          __self: this\n        }, \"Safety\"), React.createElement(\"button\", {\n          onClick: function onClick() {\n            _this2.setSettingState(SETTING_STATES.Filtering);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 160\n          },\n          __self: this\n        }, \"Filtering\"), React.createElement(\"button\", {\n          onClick: function onClick() {\n            _this2.setSettingState(SETTING_STATES.Muted);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 163\n          },\n          __self: this\n        }, \"Muted accounts\"), React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 167\n          },\n          __self: this\n        }, \"Account\"), React.createElement(\"button\", {\n          onClick: function onClick() {\n            _this2.setSettingState(SETTING_STATES.Help);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 168\n          },\n          __self: this\n        }, \"Help\"), React.createElement(LogoutAccount, {\n          firebase: this.props.firebase,\n          removeUser: this.props.removeUser,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 171\n          },\n          __self: this\n        }), React.createElement(DeleteAccount, {\n          firebase: this.props.firebase,\n          uid: this.props.uid,\n          removeUser: this.props.removeUser,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 175\n          },\n          __self: this\n        }), this.state.showToast);\n      }\n\n      return settingState.element;\n    }\n  }]);\n\n  return Settings;\n}(React.Component);\n\nexport default Settings;","map":{"version":3,"sources":["/Volumes/Angela He/treehacks/src/components/User/Settings/Settings.js"],"names":["React","LogoutAccount","DeleteAccount","Header","EditSecurity","Notifications","Filtering","Muted","Help","StaticUtil","Toast","Settings","props","setSettingState","state","setState","settingState","setToast","showToast","verifyEmail","email","isValidEmail","updateEmail","firebase","doEmailUpdate","updateSucceeded","updateFailed","user","uid","update","updateUserData","verifyPassword","pword","length","updatePassword","password","doPasswordUpdate","returnHome","error","message","SETTING_STATES","Home","Email","element","Password","goBack","removeUser","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport LogoutAccount from './LogoutAccount';\nimport DeleteAccount from './DeleteAccount';\nimport Header from '../../Misc/Header';\nimport EditSecurity from './EditSecurity';\nimport Notifications from './Notifications';\nimport Filtering from './Filtering';\nimport Muted from './Muted';\nimport Help from './Help';\nimport StaticUtil from '../../../data/StaticUtil'\nimport Toast from '../../Misc/Toast'\n\n/*\nprops:\n  firebase\n  uid\n  removeUser\n  updateUserData\n  goBack\n*/\n\nclass Settings extends React.Component {\n  constructor(props) {\n    super(props);\n    const SETTING_STATES = {\n      Home: {},\n      Email: {\n        element: <EditSecurity\n          goBack={this.returnHome}\n          changing='email'\n          inputType='email'\n          verifyInput={this.verifyEmail}\n          successCallback={this.updateEmail}\n          firebase={this.props.firebase}\n        />\n      },\n      Password: {\n        element: <EditSecurity\n          goBack={this.returnHome}\n          changing='password'\n          inputType='password'\n          verifyInput={this.verifyPassword}\n          successCallback={this.updatePassword}\n          firebase={this.props.firebase}\n        />\n      },\n      Notifications: {\n        element: (\n          <section className=\"user\">\n            <Header\n              goBack={this.returnHome}\n              title='Notifications'\n            />\n            <Notifications />\n          </section>)\n      },\n      Filtering: {\n        element: (\n          <section className=\"user\">\n            <Header\n              goBack={this.returnHome}\n              title='Filtering'\n            />\n            <Filtering />\n          </section>)\n      },\n      Muted: {\n        element: <Muted\n        goBack={this.returnHome}\n          firebase={this.props.firebase}\n          uid={this.props.uid}\n        />\n      },\n      Help: {\n        element: (\n          <section className=\"user\">\n            <Header\n              goBack={this.returnHome}\n              title='Help Center'\n            />\n            <Help />\n          </section>)\n      },\n    }\n    this.state = {\n      SETTING_STATES: SETTING_STATES,\n      settingState: SETTING_STATES.Home,\n      showToast: null\n    };\n  }\n\n  setSettingState = (state) => { this.setState({ settingState: state }) };\n\n  setToast = (state) => { this.setState({ showToast: state }) };\n\n  verifyEmail = (email) => {\n    if (!StaticUtil.isValidEmail(email))\n      return 'Invalid email.'\n    return ''\n  }\n\n  updateEmail = (email) => {\n    this.props.firebase.doEmailUpdate(email, this.updateSucceeded, this.updateFailed);\n    this.props.firebase.user(this.props.uid).update({\n      email: email\n    });\n    this.props.updateUserData('email', email);\n  }\n\n  verifyPassword = (pword) => {\n    if (pword.length < 6)\n      return 'Password must be 6 characters or more.'\n    return ''\n  }\n\n  updatePassword = (password) => {\n    this.props.firebase.doPasswordUpdate(password, this.updateSucceeded, this.updateFailed);\n  }\n\n  updateSucceeded = () => {\n    this.returnHome();\n    this.setToast(<Toast\n      message={'Awesome! Updated.'}\n    />);\n  }\n\n  updateFailed = (error) => {\n    this.returnHome();\n    this.setToast(<Toast\n      message={'Sorry, couldn\\'t update - ' + error.message}\n    />);\n  }\n\n  returnHome = () => this.setSettingState(this.state.SETTING_STATES.Home);\n\n  render() {\n    const { SETTING_STATES, settingState } = this.state;\n\n    if (settingState == SETTING_STATES.Home) {\n      return (\n        <section className=\"user\">\n          <Header\n            goBack={this.props.goBack}\n            title='Settings'\n          />\n          <h3>Security</h3>\n          <button onClick={() => { this.setSettingState(SETTING_STATES.Email) }}>\n            Email\n            </button>\n          <button onClick={() => { this.setSettingState(SETTING_STATES.Password) }}>\n            Password\n            </button>\n\n          <h3>Permissions</h3>\n          <button onClick={() => { this.setSettingState(SETTING_STATES.Notifications) }}>\n            Notifications\n            </button>\n\n          <h3>Safety</h3>\n          <button onClick={() => { this.setSettingState(SETTING_STATES.Filtering) }}>\n            Filtering\n            </button>\n          <button onClick={() => { this.setSettingState(SETTING_STATES.Muted) }}>\n            Muted accounts\n            </button>\n\n          <h3>Account</h3>\n          <button onClick={() => { this.setSettingState(SETTING_STATES.Help) }}>\n            Help\n            </button>\n          <LogoutAccount\n            firebase={this.props.firebase}\n            removeUser={this.props.removeUser}\n          />\n          <DeleteAccount\n            firebase={this.props.firebase}\n            uid={this.props.uid}\n            removeUser={this.props.removeUser}\n          />\n          {this.state.showToast}\n        </section>\n      );\n    }\n\n    return settingState.element;\n  }\n}\n\n\nexport default Settings;"]},"metadata":{},"sourceType":"module"}