{"ast":null,"code":"import _objectSpread from \"/Volumes/Angela He/treehacks/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _defineProperty from \"/Volumes/Angela He/treehacks/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Volumes/Angela He/treehacks/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Volumes/Angela He/treehacks/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Volumes/Angela He/treehacks/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Volumes/Angela He/treehacks/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/Volumes/Angela He/treehacks/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Volumes/Angela He/treehacks/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Volumes/Angela He/treehacks/src/components/SignupForm.js\";\nimport React from 'react';\nimport StaticUserData from '../data/StaticUserData';\nvar INITIAL_STATE = {\n  name: '',\n  lastName: '',\n  email: '',\n  passwordOne: '',\n  error: '',\n  page: 0,\n  hidePass: true\n};\n\nvar SignupForm =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(SignupForm, _React$Component);\n\n  function SignupForm(props) {\n    var _this;\n\n    _classCallCheck(this, SignupForm);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SignupForm).call(this, props));\n\n    _this.onChange = function (event) {\n      _this.setState(_defineProperty({}, event.target.name, event.target.value));\n    };\n\n    _this.onSubmit = function () {\n      var _this$state = _this.state,\n          name = _this$state.name,\n          lastName = _this$state.lastName,\n          email = _this$state.email,\n          passwordOne = _this$state.passwordOne;\n\n      var element = _assertThisInitialized(_this);\n\n      var default_vals = StaticUserData.getDefaultData(name, lastName, email);\n      var ID;\n\n      _this.props.firebase.doCreateUserWithEmailAndPassword(email, passwordOne).then(function (authUser) {\n        // Create a user in your Firebase realtime database\n        ID = authUser.user.uid;\n        return element.props.firebase.user(ID).set(_objectSpread({\n          uid: ID\n        }, default_vals)).then(function () {\n          _this.setState(_objectSpread({}, INITIAL_STATE));\n\n          _this.props.SignUp(_objectSpread({\n            uid: ID\n          }, default_vals));\n        });\n      }).catch(function (error) {\n        _this.setState({\n          error: error.message\n        });\n      });\n    };\n\n    _this.increasePage = function () {\n      //form validation\n      var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\n      if (_this.state.page === 1 && !re.test(_this.state.email)) {\n        _this.setState({\n          error: \"Please enter a valid email address.\"\n        });\n\n        return;\n      } //increase page if inputs are valid\n\n\n      _this.setState({\n        page: _this.state.page + 1,\n        error: ''\n      });\n    };\n\n    _this.hidePassword = function () {\n      _this.setState({\n        hidePass: !_this.state.hidePass\n      });\n    };\n\n    _this.state = INITIAL_STATE;\n    return _this;\n  }\n\n  _createClass(SignupForm, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state2 = this.state,\n          name = _this$state2.name,\n          lastName = _this$state2.lastName,\n          email = _this$state2.email,\n          passwordOne = _this$state2.passwordOne,\n          error = _this$state2.error,\n          page = _this$state2.page,\n          hidePass = _this$state2.hidePass;\n      var maxPages = 2;\n      var isInvalid;\n      var progressbar;\n      var header;\n      var input;\n      var small;\n      progressbar = React.createElement(\"div\", {\n        className: \"progress-bar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"progress\",\n        style: {\n          width: (page + 1) / (maxPages + 1) * 100 + '%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }));\n\n      if (page === 0) {\n        isInvalid = name === '' || lastName === '';\n        header = React.createElement(\"h2\", {\n          className: \"sign-up-header\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107\n          },\n          __self: this\n        }, \"My name is\", React.createElement(\"button\", {\n          className: \"back-but\",\n          onClick: function onClick() {\n            return _this2.props.setSignUp(false);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"jam jam-arrow-left\",\n          style: {\n            color: '#635358'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109\n          },\n          __self: this\n        })));\n        input = React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          name: \"name\",\n          type: \"text\",\n          placeholder: \"First name\",\n          value: name,\n          onChange: this.onChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114\n          },\n          __self: this\n        }), React.createElement(\"input\", {\n          name: \"lastName\",\n          type: \"text\",\n          placeholder: \"Last name\",\n          value: lastName,\n          onChange: this.onChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122\n          },\n          __self: this\n        }));\n      } else if (page === 1) {\n        isInvalid = email === '';\n        header = React.createElement(\"h2\", {\n          className: \"sign-up-header\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136\n          },\n          __self: this\n        }, \"My email is\", React.createElement(\"button\", {\n          className: \"back-but\",\n          onClick: function onClick() {\n            return _this2.props.setSignUp(false);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 137\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"jam jam-arrow-left\",\n          style: {\n            color: '#635358'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 138\n          },\n          __self: this\n        })));\n        input = React.createElement(\"input\", {\n          name: \"email\",\n          type: \"email\",\n          placeholder: \"Email\",\n          value: email,\n          onChange: this.onChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 142\n          },\n          __self: this\n        });\n      } else if (page === 2) {\n        isInvalid = passwordOne === '';\n        header = React.createElement(\"h2\", {\n          className: \"sign-up-header\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 153\n          },\n          __self: this\n        }, \"My password is\", React.createElement(\"button\", {\n          className: \"back-but\",\n          onClick: function onClick() {\n            return _this2.props.setSignUp(false);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 154\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"jam jam-arrow-left\",\n          style: {\n            color: '#635358'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 155\n          },\n          __self: this\n        })));\n        var passIcon, passType;\n\n        if (hidePass) {\n          passIcon = \"jam jam-eye-close\";\n          passType = \"password\";\n        } else {\n          passIcon = \"jam jam-eye\";\n          passType = \"text\";\n        }\n\n        input = React.createElement(\"div\", {\n          className: \"pass-input\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 168\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          name: \"passwordOne\",\n          type: passType,\n          placeholder: \"Password\",\n          value: passwordOne,\n          onChange: this.onChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 169\n          },\n          __self: this\n        }), React.createElement(\"button\", {\n          className: \"hidePassword\",\n          onClick: this.hidePassword,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 176\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: passIcon,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 177\n          },\n          __self: this\n        })));\n        small = React.createElement(\"small\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 183\n          },\n          __self: this\n        }, \"Use 6 or more characters with a mix of letters, numbers, & symbols\");\n      }\n\n      if (error.length > 0) {\n        small = React.createElement(\"small\", {\n          className: \"error\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 189\n          },\n          __self: this\n        }, error);\n      }\n\n      var button;\n\n      if (page < maxPages) {\n        button = React.createElement(\"button\", {\n          disabled: isInvalid,\n          className: \"signup-but\",\n          onClick: function onClick() {\n            return _this2.increasePage();\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 198\n          },\n          __self: this\n        }, \"Next\");\n      } else {\n        button = React.createElement(\"button\", {\n          disabled: isInvalid,\n          className: \"signup-but\",\n          onClick: function onClick() {\n            return _this2.onSubmit();\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 204\n          },\n          __self: this\n        }, \"Sign up\");\n      }\n\n      return React.createElement(\"div\", {\n        className: \"login-page\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }, progressbar, header, React.createElement(\"div\", {\n        className: \"input-container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 216\n        },\n        __self: this\n      }, input, small), button);\n    }\n  }]);\n\n  return SignupForm;\n}(React.Component);\n\nexport default SignupForm;","map":{"version":3,"sources":["/Volumes/Angela He/treehacks/src/components/SignupForm.js"],"names":["React","StaticUserData","INITIAL_STATE","name","lastName","email","passwordOne","error","page","hidePass","SignupForm","props","onChange","event","setState","target","value","onSubmit","state","element","default_vals","getDefaultData","ID","firebase","doCreateUserWithEmailAndPassword","then","authUser","user","uid","set","SignUp","catch","message","increasePage","re","test","hidePassword","maxPages","isInvalid","progressbar","header","input","small","width","setSignUp","color","passIcon","passType","length","button","Component"],"mappings":";;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,cAAP,MAA2B,wBAA3B;AAGA,IAAMC,aAAa,GAAG;AACpBC,EAAAA,IAAI,EAAE,EADc;AAEpBC,EAAAA,QAAQ,EAAE,EAFU;AAGpBC,EAAAA,KAAK,EAAE,EAHa;AAIpBC,EAAAA,WAAW,EAAE,EAJO;AAKpBC,EAAAA,KAAK,EAAE,EALa;AAMpBC,EAAAA,IAAI,EAAE,CANc;AAOpBC,EAAAA,QAAQ,EAAE;AAPU,CAAtB;;IAUMC,U;;;;;AACJ,sBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,oFAAMA,KAAN;;AADiB,UAKnBC,QALmB,GAKR,UAAAC,KAAK,EAAI;AAClB,YAAKC,QAAL,qBAAiBD,KAAK,CAACE,MAAN,CAAaZ,IAA9B,EAAqCU,KAAK,CAACE,MAAN,CAAaC,KAAlD;AACD,KAPkB;;AAAA,UASnBC,QATmB,GASR,YAAM;AAAA,wBACgC,MAAKC,KADrC;AAAA,UACPf,IADO,eACPA,IADO;AAAA,UACDC,QADC,eACDA,QADC;AAAA,UACSC,KADT,eACSA,KADT;AAAA,UACgBC,WADhB,eACgBA,WADhB;;AAEf,UAAIa,OAAO,gCAAX;;AACA,UAAMC,YAAY,GAAGnB,cAAc,CAACoB,cAAf,CAA8BlB,IAA9B,EAAoCC,QAApC,EAA8CC,KAA9C,CAArB;AACA,UAAIiB,EAAJ;;AACA,YAAKX,KAAL,CAAWY,QAAX,CACGC,gCADH,CACoCnB,KADpC,EAC2CC,WAD3C,EAEGmB,IAFH,CAEQ,UAAAC,QAAQ,EAAI;AAChB;AACAJ,QAAAA,EAAE,GAAGI,QAAQ,CAACC,IAAT,CAAcC,GAAnB;AAEA,eAAOT,OAAO,CAACR,KAAR,CAAcY,QAAd,CACJI,IADI,CACCL,EADD,EAEJO,GAFI;AAGHD,UAAAA,GAAG,EAAEN;AAHF,WAIAF,YAJA,GAKFK,IALE,CAKG,YAAM;AACZ,gBAAKX,QAAL,mBAAmBZ,aAAnB;;AACA,gBAAKS,KAAL,CAAWmB,MAAX;AACEF,YAAAA,GAAG,EAAEN;AADP,aAEKF,YAFL;AAKD,SAZI,CAAP;AAaD,OAnBH,EAoBGW,KApBH,CAoBS,UAAAxB,KAAK,EAAI;AACd,cAAKO,QAAL,CAAc;AAAEP,UAAAA,KAAK,EAAEA,KAAK,CAACyB;AAAf,SAAd;AACD,OAtBH;AAwBD,KAtCkB;;AAAA,UAwCnBC,YAxCmB,GAwCJ,YAAM;AAEnB;AACA,UAAIC,EAAE,GAAG,wJAAT;;AAEA,UAAI,MAAKhB,KAAL,CAAWV,IAAX,KAAoB,CAApB,IAAyB,CAAC0B,EAAE,CAACC,IAAH,CAAQ,MAAKjB,KAAL,CAAWb,KAAnB,CAA9B,EAAyD;AACvD,cAAKS,QAAL,CAAc;AAAEP,UAAAA,KAAK,EAAE;AAAT,SAAd;;AACA;AACD,OARkB,CAUnB;;;AACA,YAAKO,QAAL,CAAc;AAAEN,QAAAA,IAAI,EAAE,MAAKU,KAAL,CAAWV,IAAX,GAAkB,CAA1B;AAA6BD,QAAAA,KAAK,EAAE;AAApC,OAAd;AACD,KApDkB;;AAAA,UAsDnB6B,YAtDmB,GAsDJ,YAAM;AACnB,YAAKtB,QAAL,CAAc;AAAEL,QAAAA,QAAQ,EAAE,CAAC,MAAKS,KAAL,CAAWT;AAAxB,OAAd;AACD,KAxDkB;;AAEjB,UAAKS,KAAL,GAAahB,aAAb;AAFiB;AAGlB;;;;6BAuDQ;AAAA;;AAAA,yBASH,KAAKgB,KATF;AAAA,UAELf,IAFK,gBAELA,IAFK;AAAA,UAGLC,QAHK,gBAGLA,QAHK;AAAA,UAILC,KAJK,gBAILA,KAJK;AAAA,UAKLC,WALK,gBAKLA,WALK;AAAA,UAMLC,KANK,gBAMLA,KANK;AAAA,UAOLC,IAPK,gBAOLA,IAPK;AAAA,UAQLC,QARK,gBAQLA,QARK;AAWP,UAAM4B,QAAQ,GAAG,CAAjB;AAEA,UAAIC,SAAJ;AAEA,UAAIC,WAAJ;AAEA,UAAIC,MAAJ;AACA,UAAIC,KAAJ;AAEA,UAAIC,KAAJ;AAGAH,MAAAA,WAAW,GAAG;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACZ;AAAK,QAAA,SAAS,EAAC,UAAf;AAA0B,QAAA,KAAK,EAAE;AAC/BI,UAAAA,KAAK,EAAE,CAACnC,IAAI,GAAG,CAAR,KAAc6B,QAAQ,GAAG,CAAzB,IAA8B,GAA9B,GAAoC;AADZ,SAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADY,CAAd;;AAOA,UAAI7B,IAAI,KAAK,CAAb,EAAgB;AACd8B,QAAAA,SAAS,GAAGnC,IAAI,KAAK,EAAT,IAAeC,QAAQ,KAAK,EAAxC;AACAoC,QAAAA,MAAM,GACJ;AAAI,UAAA,SAAS,EAAC,gBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBACE;AAAQ,UAAA,SAAS,EAAC,UAAlB;AAA6B,UAAA,OAAO,EAAE;AAAA,mBAAM,MAAI,CAAC7B,KAAL,CAAWiC,SAAX,CAAqB,KAArB,CAAN;AAAA,WAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAM,UAAA,SAAS,EAAC,oBAAhB;AAAqC,UAAA,KAAK,EAAE;AAAEC,YAAAA,KAAK,EAAE;AAAT,WAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,CADF,CADF;AAMAJ,QAAAA,KAAK,GACH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AACE,UAAA,IAAI,EAAC,MADP;AAEE,UAAA,IAAI,EAAC,MAFP;AAGE,UAAA,WAAW,EAAC,YAHd;AAIE,UAAA,KAAK,EAAEtC,IAJT;AAKE,UAAA,QAAQ,EAAE,KAAKS,QALjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,EASE;AACE,UAAA,IAAI,EAAC,UADP;AAEE,UAAA,IAAI,EAAC,MAFP;AAGE,UAAA,WAAW,EAAC,WAHd;AAIE,UAAA,KAAK,EAAER,QAJT;AAKE,UAAA,QAAQ,EAAE,KAAKQ,QALjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UATF,CADF;AAoBD,OA5BD,MA6BK,IAAIJ,IAAI,KAAK,CAAb,EAAgB;AACnB8B,QAAAA,SAAS,GAAGjC,KAAK,KAAK,EAAtB;AACAmC,QAAAA,MAAM,GACJ;AAAI,UAAA,SAAS,EAAC,gBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BACE;AAAQ,UAAA,SAAS,EAAC,UAAlB;AAA6B,UAAA,OAAO,EAAE;AAAA,mBAAM,MAAI,CAAC7B,KAAL,CAAWiC,SAAX,CAAqB,KAArB,CAAN;AAAA,WAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAM,UAAA,SAAS,EAAC,oBAAhB;AAAqC,UAAA,KAAK,EAAE;AAAEC,YAAAA,KAAK,EAAE;AAAT,WAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,CADF,CADF;AAMAJ,QAAAA,KAAK,GACH;AACE,UAAA,IAAI,EAAC,OADP;AAEE,UAAA,IAAI,EAAC,OAFP;AAGE,UAAA,WAAW,EAAC,OAHd;AAIE,UAAA,KAAK,EAAEpC,KAJT;AAKE,UAAA,QAAQ,EAAE,KAAKO,QALjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAQD,OAhBI,MAiBA,IAAIJ,IAAI,KAAK,CAAb,EAAgB;AACnB8B,QAAAA,SAAS,GAAGhC,WAAW,KAAK,EAA5B;AACAkC,QAAAA,MAAM,GACJ;AAAI,UAAA,SAAS,EAAC,gBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BACE;AAAQ,UAAA,SAAS,EAAC,UAAlB;AAA6B,UAAA,OAAO,EAAE;AAAA,mBAAM,MAAI,CAAC7B,KAAL,CAAWiC,SAAX,CAAqB,KAArB,CAAN;AAAA,WAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAM,UAAA,SAAS,EAAC,oBAAhB;AAAqC,UAAA,KAAK,EAAE;AAAEC,YAAAA,KAAK,EAAE;AAAT,WAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,CADF,CADF;AAOA,YAAIC,QAAJ,EAAcC,QAAd;;AACA,YAAItC,QAAJ,EAAc;AACZqC,UAAAA,QAAQ,GAAG,mBAAX;AACAC,UAAAA,QAAQ,GAAG,UAAX;AACD,SAHD,MAGO;AACLD,UAAAA,QAAQ,GAAG,aAAX;AACAC,UAAAA,QAAQ,GAAG,MAAX;AACD;;AACDN,QAAAA,KAAK,GACH;AAAK,UAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AACE,UAAA,IAAI,EAAC,aADP;AAEE,UAAA,IAAI,EAAEM,QAFR;AAGE,UAAA,WAAW,EAAC,UAHd;AAIE,UAAA,KAAK,EAAEzC,WAJT;AAKE,UAAA,QAAQ,EAAE,KAAKM,QALjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,EAQE;AAAQ,UAAA,SAAS,EAAC,cAAlB;AAAiC,UAAA,OAAO,EAAE,KAAKwB,YAA/C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAM,UAAA,SAAS,EAAEU,QAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF,CARF,CADF;AAeAJ,QAAAA,KAAK,GACH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gFADF;AAID;;AAED,UAAInC,KAAK,CAACyC,MAAN,GAAe,CAAnB,EAAsB;AACpBN,QAAAA,KAAK,GAAG;AAAO,UAAA,SAAS,EAAC,OAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACLnC,KADK,CAAR;AAGD;;AAGD,UAAI0C,MAAJ;;AAEA,UAAIzC,IAAI,GAAG6B,QAAX,EAAqB;AACnBY,QAAAA,MAAM,GAAG;AAAQ,UAAA,QAAQ,EAAEX,SAAlB;AACP,UAAA,SAAS,EAAC,YADH;AAEP,UAAA,OAAO,EAAE;AAAA,mBAAM,MAAI,CAACL,YAAL,EAAN;AAAA,WAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAT;AAKD,OAND,MAMO;AACLgB,QAAAA,MAAM,GAAG;AAAQ,UAAA,QAAQ,EAAEX,SAAlB;AACP,UAAA,SAAS,EAAC,YADH;AAEP,UAAA,OAAO,EAAE;AAAA,mBAAM,MAAI,CAACrB,QAAL,EAAN;AAAA,WAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAAT;AAKD;;AAED,aACE;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGsB,WADH,EAGGC,MAHH,EAIE;AAAK,QAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGC,KADH,EAEGC,KAFH,CAJF,EASGO,MATH,CADF;AAcD;;;;EAlNsBjD,KAAK,CAACkD,S;;AAqN/B,eAAexC,UAAf","sourcesContent":["import React from 'react';\nimport StaticUserData from '../data/StaticUserData';\n\n\nconst INITIAL_STATE = {\n  name: '',\n  lastName: '',\n  email: '',\n  passwordOne: '',\n  error: '',\n  page: 0,\n  hidePass: true\n};\n\nclass SignupForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = INITIAL_STATE;\n  }\n\n  onChange = event => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  onSubmit = () => {\n    const { name, lastName, email, passwordOne } = this.state;\n    let element = this;\n    const default_vals = StaticUserData.getDefaultData(name, lastName, email);\n    let ID;\n    this.props.firebase\n      .doCreateUserWithEmailAndPassword(email, passwordOne)\n      .then(authUser => {\n        // Create a user in your Firebase realtime database\n        ID = authUser.user.uid;\n\n        return element.props.firebase\n          .user(ID)\n          .set({\n            uid: ID,\n            ...default_vals\n          }).then(() => {\n            this.setState({ ...INITIAL_STATE });\n            this.props.SignUp({\n              uid: ID,\n              ...default_vals\n\n            });\n          });\n      })\n      .catch(error => {\n        this.setState({ error: error.message });\n      });\n\n  };\n\n  increasePage = () => {\n\n    //form validation\n    let re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\n    if (this.state.page === 1 && !re.test(this.state.email)) {\n      this.setState({ error: \"Please enter a valid email address.\" })\n      return;\n    }\n\n    //increase page if inputs are valid\n    this.setState({ page: this.state.page + 1, error: '' })\n  }\n\n  hidePassword = () => {\n    this.setState({ hidePass: !this.state.hidePass })\n  }\n\n  render() {\n    const {\n      name,\n      lastName,\n      email,\n      passwordOne,\n      error,\n      page,\n      hidePass\n    } = this.state;\n\n    const maxPages = 2;\n\n    let isInvalid;\n\n    let progressbar;\n\n    let header;\n    let input;\n\n    let small;\n\n\n    progressbar = <div className=\"progress-bar\">\n      <div className=\"progress\" style={{\n        width: (page + 1) / (maxPages + 1) * 100 + '%'\n      }}></div>\n    </div>;\n\n\n    if (page === 0) {\n      isInvalid = name === '' || lastName === '';\n      header =\n        <h2 className=\"sign-up-header\">My name is\n          <button className=\"back-but\" onClick={() => this.props.setSignUp(false)}>\n            <span className=\"jam jam-arrow-left\" style={{ color: '#635358' }}></span>\n          </button>\n        </h2>;\n      input =\n        <div>\n          <input\n            name=\"name\"\n            type=\"text\"\n            placeholder=\"First name\"\n            value={name}\n            onChange={this.onChange}>\n          </input>\n\n          <input\n            name=\"lastName\"\n            type=\"text\"\n            placeholder=\"Last name\"\n            value={lastName}\n            onChange={this.onChange}\n          >\n          </input>\n        </div>\n        ;\n    }\n    else if (page === 1) {\n      isInvalid = email === '';\n      header =\n        <h2 className=\"sign-up-header\">My email is\n          <button className=\"back-but\" onClick={() => this.props.setSignUp(false)}>\n            <span className=\"jam jam-arrow-left\" style={{ color: '#635358' }}></span>\n          </button>\n        </h2>;\n      input =\n        <input\n          name=\"email\"\n          type=\"email\"\n          placeholder=\"Email\"\n          value={email}\n          onChange={this.onChange}>\n        </input>;\n    }\n    else if (page === 2) {\n      isInvalid = passwordOne === '';\n      header =\n        <h2 className=\"sign-up-header\">My password is\n          <button className=\"back-but\" onClick={() => this.props.setSignUp(false)}>\n            <span className=\"jam jam-arrow-left\" style={{ color: '#635358' }}></span>\n          </button>\n        </h2>;\n\n      let passIcon, passType;\n      if (hidePass) {\n        passIcon = \"jam jam-eye-close\";\n        passType = \"password\";\n      } else {\n        passIcon = \"jam jam-eye\";\n        passType = \"text\";\n      }\n      input =\n        <div className=\"pass-input\">\n          <input\n            name=\"passwordOne\"\n            type={passType}\n            placeholder=\"Password\"\n            value={passwordOne}\n            onChange={this.onChange}>\n          </input>\n          <button className=\"hidePassword\" onClick={this.hidePassword}>\n            <span className={passIcon}></span>\n          </button>\n        </div>\n        ;\n\n      small =\n        <small>\n          Use 6 or more characters with a mix of letters, numbers, & symbols\n       </small>;\n    }\n\n    if (error.length > 0) {\n      small = <small className=\"error\">\n        {error}\n      </small>\n    }\n\n\n    let button;\n\n    if (page < maxPages) {\n      button = <button disabled={isInvalid}\n        className=\"signup-but\"\n        onClick={() => this.increasePage()}>\n        Next\n      </button>;\n    } else {\n      button = <button disabled={isInvalid}\n        className=\"signup-but\"\n        onClick={() => this.onSubmit()}>\n        Sign up\n    </button>;\n    }\n\n    return (\n      <div className=\"login-page\">\n        {progressbar}\n\n        {header}\n        <div className=\"input-container\">\n          {input}\n          {small}\n        </div>\n\n        {button}\n\n      </div>\n    );\n  }\n}\n\nexport default SignupForm;"]},"metadata":{},"sourceType":"module"}