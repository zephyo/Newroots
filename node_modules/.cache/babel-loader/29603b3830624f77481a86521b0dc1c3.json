{"ast":null,"code":"import _defineProperty from \"/Volumes/Angela He/treehacks/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Volumes/Angela He/treehacks/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Volumes/Angela He/treehacks/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Volumes/Angela He/treehacks/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Volumes/Angela He/treehacks/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Volumes/Angela He/treehacks/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Volumes/Angela He/treehacks/src/components/Network/AddCheckin.js\";\nimport React, { Component } from 'react';\nimport Dropdown from '../Misc/Dropdown';\nimport StaticUserData from '../../data/StaticUserData';\nimport OnboardingCategories from '../OnboardingCategories';\nvar visibleDefault = 2;\nvar INITIAL_STATE = {\n  q: '',\n  type: StaticUserData.QTYPE_TEXT,\n  visibility: StaticUserData.getVisibility()[visibleDefault].text,\n  category: '',\n  showTemplateQuestions: false,\n  typeSelect: 0,\n  catSelect: 0,\n  visSelect: visibleDefault,\n  typeOptions: StaticUserData.getQuestionTypes(),\n  visOptions: StaticUserData.getVisibility()\n};\n\nvar AddCheckin =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(AddCheckin, _React$Component);\n\n  function AddCheckin(props) {\n    var _this;\n\n    _classCallCheck(this, AddCheckin);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddCheckin).call(this, props));\n\n    _this.onChange = function (event) {\n      _this.setState(_defineProperty({}, event.target.name, event.target.value));\n    };\n\n    _this.setType = function (type) {\n      _this.setState({\n        type: type\n      });\n\n      for (var i = 0; i < _this.state.typeOptions.length; i++) {\n        if (_this.state.typeOptions[i].text == type) {\n          _this.setState({\n            typeSelect: i\n          });\n        }\n      }\n    };\n\n    _this.setVisibility = function (type) {\n      _this.setState({\n        visibility: type\n      });\n\n      for (var i = 0; i < _this.state.visOptions.length; i++) {\n        if (_this.state.visOptions[i].text == type) {\n          _this.setState({\n            visSelect: i\n          });\n        }\n      }\n    };\n\n    _this.setCategory = function (type) {\n      _this.setState({\n        category: type\n      });\n\n      for (var i = 0; i < _this.props.categories.length; i++) {\n        if (_this.props.categories[i] == type) {\n          _this.setState({\n            catSelect: i\n          });\n        }\n      }\n    };\n\n    _this.triggerTemplates = function (e) {\n      e.preventDefault();\n\n      _this.setState({\n        showTemplateQuestions: !_this.state.showTemplateQuestions\n      });\n    };\n\n    _this.selectTemplate = function (template, category) {\n      _this.setState({\n        q: template.q,\n        type: template.type,\n        category: category,\n        showTemplateQuestions: false\n      });\n\n      for (var i = 0; i < _this.state.typeOptions.length; i++) {\n        if (_this.state.typeOptions[i].text == template.type) {\n          _this.setState({\n            typeSelect: i\n          });\n\n          console.log('set type state to ' + i);\n        }\n      }\n\n      for (var _i = 0; _i < _this.props.categories.length; _i++) {\n        if (_this.props.categories[_i] == category) {\n          _this.setState({\n            catSelect: _i\n          });\n        }\n      }\n    };\n\n    _this.onSubmit = function () {\n      _this.props.setAddMode(false);\n\n      _this.props.addCheckin({\n        q: _this.state.q,\n        type: _this.state.type,\n        visibility: _this.state.visibility,\n        category: _this.state.category\n      });\n    };\n\n    _this.onCancel = function () {\n      _this.props.setAddMode(false);\n    };\n\n    _this.state = INITIAL_STATE;\n    return _this;\n  }\n\n  _createClass(AddCheckin, [{\n    key: \"render\",\n    value: function render() {\n      var q = this.state.q;\n      var isInvalid = q === '';\n      var questionModule;\n\n      if (this.state.showTemplateQuestions == true) {\n        questionModule = React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110\n          },\n          __self: this\n        }, React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111\n          },\n          __self: this\n        }, React.createElement(\"a\", {\n          href: \"#\",\n          onClick: this.triggerTemplates,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"jam checkicon jam-chevron-left\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113\n          },\n          __self: this\n        })), \"Template questions\"), React.createElement(OnboardingCategories, {\n          onboarding: false,\n          select: this.selectTemplate,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 116\n          },\n          __self: this\n        }));\n      } else {\n        questionModule = React.createElement(\"div\", {\n          className: \"checkin-choice\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125\n          },\n          __self: this\n        }, React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 126\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"jam checkicon jam-help\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 127\n          },\n          __self: this\n        }), \"Question\"), React.createElement(\"textarea\", {\n          id: \"check-in\",\n          name: \"q\",\n          placeholder: \"What'd you like to check in about?\",\n          value: q,\n          onChange: this.onChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 129\n          },\n          __self: this\n        }), React.createElement(\"a\", {\n          href: \"#\",\n          onClick: this.triggerTemplates,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136\n          },\n          __self: this\n        }, \"Template questions\", React.createElement(\"span\", {\n          className: \"jam checkicon jam-arrow-right\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 138\n          },\n          __self: this\n        })));\n      }\n\n      var categoriesAdjusted = [];\n\n      for (var i = 0; i < this.props.categories.length; i++) {\n        categoriesAdjusted.push({\n          text: this.props.categories[i]\n        });\n      }\n\n      console.log(JSON.stringify(categoriesAdjusted));\n      return React.createElement(\"div\", {\n        className: \"add-panel\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, React.createElement(\"hr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }), React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, \"Add check-in\"), questionModule, React.createElement(\"div\", {\n        className: \"checkin-choice\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"jam checkicon jam-info\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }), \"Question type\"), React.createElement(Dropdown, {\n        options: this.state.typeOptions,\n        onChange: this.setType,\n        selected: this.state.typeSelect,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"checkin-choice\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"jam checkicon jam-archive\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      }), \"Category\"), React.createElement(Dropdown, {\n        options: categoriesAdjusted,\n        onChange: this.setCategory,\n        selected: this.state.catSelect,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"checkin-choice\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 185\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"jam checkicon jam-eye\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 186\n        },\n        __self: this\n      }), \"Visibility\"), React.createElement(Dropdown, {\n        options: this.state.visOptions,\n        onChange: this.setVisibility,\n        selected: this.state.visSelect,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }), React.createElement(\"small\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194\n        },\n        __self: this\n      }, \"Who can see this?\")), React.createElement(\"div\", {\n        className: \"yesno\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      }, React.createElement(\"button\", {\n        className: \"yes\",\n        onClick: this.onSubmit,\n        disabled: isInvalid,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, \"Submit\"), React.createElement(\"button\", {\n        className: \"no\",\n        onClick: this.onCancel,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200\n        },\n        __self: this\n      }, \"Cancel\")));\n    }\n  }]);\n\n  return AddCheckin;\n}(React.Component);\n\nexport default AddCheckin;","map":{"version":3,"sources":["/Volumes/Angela He/treehacks/src/components/Network/AddCheckin.js"],"names":["React","Component","Dropdown","StaticUserData","OnboardingCategories","visibleDefault","INITIAL_STATE","q","type","QTYPE_TEXT","visibility","getVisibility","text","category","showTemplateQuestions","typeSelect","catSelect","visSelect","typeOptions","getQuestionTypes","visOptions","AddCheckin","props","onChange","event","setState","target","name","value","setType","i","state","length","setVisibility","setCategory","categories","triggerTemplates","e","preventDefault","selectTemplate","template","console","log","onSubmit","setAddMode","addCheckin","onCancel","isInvalid","questionModule","categoriesAdjusted","push","JSON","stringify"],"mappings":"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","sourcesContent":["\nimport React, { Component } from 'react';\nimport Dropdown from '../Misc/Dropdown';\nimport StaticUserData from '../../data/StaticUserData';\nimport OnboardingCategories from '../OnboardingCategories';\n\nconst visibleDefault = 2;\n\nconst INITIAL_STATE = {\n  q: '',\n  type: StaticUserData.QTYPE_TEXT,\n  visibility: StaticUserData.getVisibility()[visibleDefault].text,\n  category: '',\n  showTemplateQuestions: false,\n  typeSelect: 0,\n  catSelect: 0,\n  visSelect: visibleDefault,\n  typeOptions: StaticUserData.getQuestionTypes(),\n  visOptions: StaticUserData.getVisibility()\n};\n\nclass AddCheckin extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = INITIAL_STATE;\n  }\n\n  onChange = event => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  setType = (type) => {\n    this.setState({ type: type });\n    for (let i = 0; i < this.state.typeOptions.length; i++) {\n      if (this.state.typeOptions[i].text == type) {\n        this.setState({ typeSelect: i });\n      }\n    }\n  }\n\n  setVisibility = (type) => {\n    this.setState({ visibility: type });\n    for (let i = 0; i < this.state.visOptions.length; i++) {\n      if (this.state.visOptions[i].text == type) {\n        this.setState({ visSelect: i });\n      }\n    }\n  }\n\n  setCategory = (type) => {\n    this.setState({ category: type });\n    for (let i = 0; i < this.props.categories.length; i++) {\n      if (this.props.categories[i] == type) {\n        this.setState({ catSelect: i });\n      }\n    }\n  }\n\n  triggerTemplates = (e) => {\n    e.preventDefault();\n    this.setState({ showTemplateQuestions: !this.state.showTemplateQuestions });\n  };\n\n  selectTemplate = (template, category) => {\n    this.setState({\n      q: template.q,\n      type: template.type,\n      category: category,\n      showTemplateQuestions: false\n    })\n\n    for (let i = 0; i < this.state.typeOptions.length; i++) {\n      if (this.state.typeOptions[i].text == template.type) {\n        this.setState({ typeSelect: i });\n        console.log('set type state to ' + i);\n      }\n    }\n\n    for (let i = 0; i < this.props.categories.length; i++) {\n      if (this.props.categories[i] == category) {\n        this.setState({ catSelect: i });\n      }\n    }\n  }\n\n  onSubmit = () => {\n    this.props.setAddMode(false);\n    this.props.addCheckin({\n      q: this.state.q,\n      type: this.state.type,\n      visibility: this.state.visibility,\n      category: this.state.category\n    });\n  }\n\n  onCancel = () => {\n    this.props.setAddMode(false);\n  }\n\n  render() {\n    const { q } = this.state;\n\n\n    const isInvalid = q === '';\n\n\n    let questionModule;\n    if (this.state.showTemplateQuestions == true) {\n      questionModule = (\n        <div>\n          <h3>\n            <a href=\"#\" onClick={this.triggerTemplates}>\n              <span className=\"jam checkicon jam-chevron-left\"></span>\n            </a>\n            Template questions</h3>\n          <OnboardingCategories\n            onboarding={false}\n            select={this.selectTemplate}\n          />\n        </div>\n      );\n    } else {\n      questionModule =\n        (\n          <div className=\"checkin-choice\">\n            <h3>\n              <span className=\"jam checkicon jam-help\"></span>\n              Question</h3>\n            <textarea\n              id=\"check-in\"\n              name=\"q\"\n              placeholder=\"What'd you like to check in about?\"\n              value={q}\n              onChange={this.onChange}>\n            </textarea>\n            <a href=\"#\" onClick={this.triggerTemplates}>\n              Template questions\n        <span className=\"jam checkicon jam-arrow-right\"></span>\n            </a>\n          </div>\n        );\n    }\n\n    let categoriesAdjusted = [];\n    for (let i = 0; i < this.props.categories.length; i++) {\n      categoriesAdjusted.push(\n        {\n          text: this.props.categories[i]\n        }\n      );\n    }\n    console.log(JSON.stringify(categoriesAdjusted));\n\n    return (\n      <div className=\"add-panel\">\n        <hr></hr>\n        <h2>Add check-in</h2>\n\n        {questionModule}\n\n        <div className=\"checkin-choice\">\n          <h3>\n            <span className=\"jam checkicon jam-info\"></span>\n            Question type\n        </h3>\n          <Dropdown\n            options={this.state.typeOptions}\n            onChange={this.setType}\n            selected={this.state.typeSelect}\n          ></Dropdown>\n        </div>\n\n        <div className=\"checkin-choice\">\n          <h3>\n            <span className=\"jam checkicon jam-archive\"></span>\n            Category</h3>\n          <Dropdown\n            options={categoriesAdjusted}\n            onChange={this.setCategory}\n            selected={this.state.catSelect}\n          ></Dropdown>\n        </div>\n\n        <div className=\"checkin-choice\">\n          <h3>\n            <span className=\"jam checkicon jam-eye\"></span>\n            Visibility</h3>\n\n          <Dropdown\n            options={this.state.visOptions}\n            onChange={this.setVisibility}\n            selected={this.state.visSelect}\n          ></Dropdown>\n          <small>Who can see this?</small>\n        </div>\n\n        <div className=\"yesno\">\n          <button className=\"yes\" onClick={this.onSubmit} disabled={isInvalid}>\n            Submit</button>\n          <button className=\"no\" onClick={this.onCancel}>\n            Cancel</button>\n        </div>\n      </div>\n    );\n  }\n}\n\n\nexport default AddCheckin;"]},"metadata":{},"sourceType":"module"}