{"ast":null,"code":"import _objectSpread from \"/Volumes/Angela He/treehacks/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _defineProperty from \"/Volumes/Angela He/treehacks/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Volumes/Angela He/treehacks/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Volumes/Angela He/treehacks/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Volumes/Angela He/treehacks/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Volumes/Angela He/treehacks/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/Volumes/Angela He/treehacks/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Volumes/Angela He/treehacks/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Volumes/Angela He/treehacks/src/components/SignupForm.js\";\nimport React, { Component } from 'react';\nvar INITIAL_STATE = {\n  name: '',\n  lastName: '',\n  email: '',\n  passwordOne: '',\n  error: '',\n  page: 0,\n  hidePass: true\n};\n\nvar SignupForm =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(SignupForm, _React$Component);\n\n  function SignupForm(props) {\n    var _this;\n\n    _classCallCheck(this, SignupForm);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SignupForm).call(this, props));\n\n    _this.onChange = function (event) {\n      _this.setState(_defineProperty({}, event.target.name, event.target.value));\n    };\n\n    _this.onSubmit = function () {\n      var _this$state = _this.state,\n          name = _this$state.name,\n          lastName = _this$state.lastName,\n          email = _this$state.email,\n          passwordOne = _this$state.passwordOne;\n\n      var element = _assertThisInitialized(_this);\n\n      var default_vals = {\n        name: name + ' ' + lastName,\n        easy_name: name.toLowerCase(),\n        email: email,\n        network: [],\n        requests: [],\n        checkins: [{\n          q: 'How are you feeling today?',\n          type: 'range'\n        }],\n        PpfURL: null\n      };\n      var ID;\n\n      _this.props.firebase.doCreateUserWithEmailAndPassword(email, passwordOne).then(function (authUser) {\n        // Create a user in your Firebase realtime database\n        ID = authUser.user.uid;\n        return element.props.firebase.user(ID).set(_objectSpread({\n          uid: ID\n        }, default_vals)).then(function () {\n          _this.setState(_objectSpread({}, INITIAL_STATE));\n\n          _this.props.SignUp(_objectSpread({\n            uid: ID\n          }, default_vals));\n        });\n      }).catch(function (error) {\n        _this.setState({\n          error: error.message\n        });\n      });\n    };\n\n    _this.increasePage = function () {\n      //form validation\n      var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\n      if (_this.state.page === 1 && !re.test(_this.state.email)) {\n        _this.setState({\n          error: \"Please enter a valid email address.\"\n        });\n\n        return;\n      }\n\n      if (_this.state.page === 2 && _this.state.passwordOne.length < 8) {\n        _this.setState({\n          error: \"Use 8 characters or more for your password.\"\n        });\n\n        return;\n      } //increase page if inputs are valid\n\n\n      _this.setState({\n        page: _this.state.page + 1,\n        error: ''\n      });\n    };\n\n    _this.hidePassword = function () {\n      _this.setState({\n        hidePass: !_this.state.hidePass\n      });\n    };\n\n    _this.state = INITIAL_STATE;\n    return _this;\n  }\n\n  _createClass(SignupForm, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state2 = this.state,\n          name = _this$state2.name,\n          lastName = _this$state2.lastName,\n          email = _this$state2.email,\n          passwordOne = _this$state2.passwordOne,\n          error = _this$state2.error,\n          page = _this$state2.page,\n          hidePass = _this$state2.hidePass;\n      var maxPages = 2;\n      var isInvalid;\n      var progressbar;\n      var header;\n      var input;\n      var small;\n      progressbar = React.createElement(\"div\", {\n        className: \"progress-bar\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"progress\",\n        style: {\n          width: (page + 1) / (maxPages + 1) * 100 + '%'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }));\n\n      if (page === 0) {\n        isInvalid = name === '' || lastName === '';\n        header = React.createElement(\"h2\", {\n          className: \"sign-up-header\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122\n          },\n          __self: this\n        }, \"My full name is\", React.createElement(\"button\", {\n          className: \"back-but\",\n          onClick: function onClick() {\n            return _this2.props.setSignUp(false);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"jam jam-arrow-left\",\n          style: {\n            color: '#635358'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 124\n          },\n          __self: this\n        })));\n        input = React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 128\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          name: \"name\",\n          type: \"text\",\n          placeholder: \"First name\",\n          value: name,\n          onChange: this.onChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 129\n          },\n          __self: this\n        }), React.createElement(\"input\", {\n          name: \"lastName\",\n          type: \"text\",\n          placeholder: \"Last name\",\n          value: lastName,\n          onChange: this.onChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 137\n          },\n          __self: this\n        }));\n      } else if (page === 1) {\n        isInvalid = email === '';\n        header = React.createElement(\"h2\", {\n          className: \"sign-up-header\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 150\n          },\n          __self: this\n        }, \"My email is\", React.createElement(\"button\", {\n          className: \"back-but\",\n          onClick: function onClick() {\n            return _this2.props.setSignUp(false);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 151\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"jam jam-arrow-left\",\n          style: {\n            color: '#635358'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 152\n          },\n          __self: this\n        })));\n        input = React.createElement(\"input\", {\n          name: \"email\",\n          type: \"email\",\n          placeholder: \"Email\",\n          value: email,\n          onChange: this.onChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 156\n          },\n          __self: this\n        });\n      } else if (page === 2) {\n        isInvalid = passwordOne === '';\n        header = React.createElement(\"h2\", {\n          className: \"sign-up-header\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 167\n          },\n          __self: this\n        }, \"My password is\", React.createElement(\"button\", {\n          className: \"back-but\",\n          onClick: function onClick() {\n            return _this2.props.setSignUp(false);\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 168\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: \"jam jam-arrow-left\",\n          style: {\n            color: '#635358'\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 169\n          },\n          __self: this\n        })));\n        var passIcon, passType;\n\n        if (hidePass) {\n          passIcon = \"jam jam-eye-close\";\n          passType = \"password\";\n        } else {\n          passIcon = \"jam jam-eye\";\n          passType = \"text\";\n        }\n\n        input = React.createElement(\"div\", {\n          className: \"pass-input\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 182\n          },\n          __self: this\n        }, React.createElement(\"input\", {\n          name: \"passwordOne\",\n          type: passType,\n          placeholder: \"Password\",\n          value: passwordOne,\n          onChange: this.onChange,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 183\n          },\n          __self: this\n        }), React.createElement(\"button\", {\n          className: \"hidePassword\",\n          onClick: this.hidePassword,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 190\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          className: passIcon,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 191\n          },\n          __self: this\n        })));\n        small = React.createElement(\"small\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 197\n          },\n          __self: this\n        }, \"Use 8 or more characters with a mix of letters, numbers, & symbols\");\n      }\n\n      if (error.length > 0) {\n        small = React.createElement(\"small\", {\n          className: \"error\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 203\n          },\n          __self: this\n        }, error);\n      }\n\n      var button;\n\n      if (page < maxPages) {\n        button = React.createElement(\"button\", {\n          disabled: isInvalid,\n          className: \"signup-but\",\n          onClick: function onClick() {\n            return _this2.increasePage();\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 212\n          },\n          __self: this\n        }, \"Next\");\n      } else {\n        button = React.createElement(\"button\", {\n          disabled: isInvalid,\n          className: \"signup-but\",\n          onClick: function onClick() {\n            return _this2.onSubmit();\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 218\n          },\n          __self: this\n        }, \"Sign up\");\n      }\n\n      return React.createElement(\"div\", {\n        className: \"login-page\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226\n        },\n        __self: this\n      }, progressbar, header, input, small, button);\n    }\n  }]);\n\n  return SignupForm;\n}(React.Component);\n\nexport default SignupForm;","map":{"version":3,"sources":["/Volumes/Angela He/treehacks/src/components/SignupForm.js"],"names":["React","Component","INITIAL_STATE","name","lastName","email","passwordOne","error","page","hidePass","SignupForm","props","onChange","event","setState","target","value","onSubmit","state","element","default_vals","easy_name","toLowerCase","network","requests","checkins","q","type","PpfURL","ID","firebase","doCreateUserWithEmailAndPassword","then","authUser","user","uid","set","SignUp","catch","message","increasePage","re","test","length","hidePassword","maxPages","isInvalid","progressbar","header","input","small","width","setSignUp","color","passIcon","passType","button"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nconst INITIAL_STATE = {\n  name: '',\n  lastName: '',\n  email: '',\n  passwordOne: '',\n  error: '',\n  page: 0,\n  hidePass: true\n};\n\nclass SignupForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = INITIAL_STATE;\n  }\n\n  onChange = event => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  onSubmit = () => {\n    const { name, lastName, email, passwordOne } = this.state;\n    let element = this;\n    const default_vals = {\n      name: name + ' ' + lastName,\n      easy_name: name.toLowerCase(),\n      email: email,\n      network: [],\n      requests: [],\n      checkins: [\n        {\n          q: 'How are you feeling today?',\n          type: 'range',\n        }\n      ],\n      PpfURL: null\n    };\n    let ID;\n    this.props.firebase\n      .doCreateUserWithEmailAndPassword(email, passwordOne)\n      .then(authUser => {\n        // Create a user in your Firebase realtime database\n        ID = authUser.user.uid;\n\n        return element.props.firebase\n          .user(ID)\n          .set({\n            uid: ID,\n            ...default_vals\n          }).then(() => {\n            this.setState({ ...INITIAL_STATE });\n            this.props.SignUp({\n              uid: ID,\n              ...default_vals\n\n            });\n          });\n      })\n      .catch(error => {\n        this.setState({ error: error.message });\n      });\n\n  };\n\n  increasePage = () => {\n\n    //form validation\n    let re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n\n    if (this.state.page === 1 && !re.test(this.state.email)) {\n      this.setState({ error: \"Please enter a valid email address.\" })\n      return;\n    }\n    if (this.state.page === 2 && this.state.passwordOne.length < 8) {\n      this.setState({ error: \"Use 8 characters or more for your password.\" })\n      return;\n    }\n\n    //increase page if inputs are valid\n    this.setState({ page: this.state.page + 1, error: '' })\n  }\n\n  hidePassword = () => {\n    this.setState({ hidePass: !this.state.hidePass })\n  }\n\n  render() {\n    const {\n      name,\n      lastName,\n      email,\n      passwordOne,\n      error,\n      page,\n      hidePass\n    } = this.state;\n\n    const maxPages = 2;\n\n    let isInvalid;\n\n    let progressbar;\n\n    let header;\n    let input;\n\n    let small;\n\n\n    progressbar = <div className=\"progress-bar\">\n      <div className=\"progress\" style={{\n        width: (page + 1) / (maxPages + 1) * 100 + '%'\n      }}></div>\n    </div>;\n\n\n    if (page === 0) {\n      isInvalid = name === '' || lastName === '';\n      header =\n        <h2 className=\"sign-up-header\">My full name is\n          <button className=\"back-but\" onClick={() => this.props.setSignUp(false)}>\n            <span className=\"jam jam-arrow-left\" style={{ color: '#635358' }}></span>\n          </button>\n        </h2>;\n      input =\n        <div>\n          <input\n            name=\"name\"\n            type=\"text\"\n            placeholder=\"First name\"\n            value={name}\n            onChange={this.onChange}>\n          </input>\n\n          <input\n            name=\"lastName\"\n            type=\"text\"\n            placeholder=\"Last name\"\n            value={lastName}\n            onChange={this.onChange}>\n          </input>\n        </div>\n        ;\n    }\n    else if (page === 1) {\n      isInvalid = email === '';\n      header =\n        <h2 className=\"sign-up-header\">My email is\n          <button className=\"back-but\" onClick={() => this.props.setSignUp(false)}>\n            <span className=\"jam jam-arrow-left\" style={{ color: '#635358' }}></span>\n          </button>\n        </h2>;\n      input =\n        <input\n          name=\"email\"\n          type=\"email\"\n          placeholder=\"Email\"\n          value={email}\n          onChange={this.onChange}>\n        </input>;\n    }\n    else if (page === 2) {\n      isInvalid = passwordOne === '';\n      header =\n        <h2 className=\"sign-up-header\">My password is\n          <button className=\"back-but\" onClick={() => this.props.setSignUp(false)}>\n            <span className=\"jam jam-arrow-left\" style={{ color: '#635358' }}></span>\n          </button>\n        </h2>;\n\n      let passIcon, passType;\n      if (hidePass) {\n        passIcon = \"jam jam-eye-close\";\n        passType = \"password\";\n      } else {\n        passIcon = \"jam jam-eye\";\n        passType = \"text\";\n      }\n      input =\n        <div className=\"pass-input\">\n          <input\n            name=\"passwordOne\"\n            type={passType}\n            placeholder=\"Password\"\n            value={passwordOne}\n            onChange={this.onChange}>\n          </input>\n          <button className=\"hidePassword\" onClick={this.hidePassword}>\n            <span className={passIcon}></span>\n          </button>\n        </div>\n        ;\n\n      small =\n        <small>\n          Use 8 or more characters with a mix of letters, numbers, & symbols\n       </small>;\n    }\n\n    if (error.length > 0) {\n      small = <small className=\"error\">\n        {error}\n      </small>\n    }\n\n\n    let button;\n\n    if (page < maxPages) {\n      button = <button disabled={isInvalid}\n        className=\"signup-but\"\n        onClick={() => this.increasePage()}>\n        Next\n      </button>;\n    } else {\n      button = <button disabled={isInvalid}\n        className=\"signup-but\"\n        onClick={() => this.onSubmit()}>\n        Sign up\n    </button>;\n    }\n\n    return (\n      <div className=\"login-page\">\n        {progressbar}\n\n        {header}\n        {input}\n\n        {small}\n\n        {button}\n\n      </div>\n    );\n  }\n}\n\nexport default SignupForm;"]},"metadata":{},"sourceType":"module"}