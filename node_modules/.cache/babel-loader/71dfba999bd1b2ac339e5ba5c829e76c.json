{"ast":null,"code":"import _objectSpread from \"/Users/gollyzoom/Documents/GitHub/treehacks/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport _defineProperty from \"/Users/gollyzoom/Documents/GitHub/treehacks/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/gollyzoom/Documents/GitHub/treehacks/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/gollyzoom/Documents/GitHub/treehacks/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/gollyzoom/Documents/GitHub/treehacks/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/gollyzoom/Documents/GitHub/treehacks/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"/Users/gollyzoom/Documents/GitHub/treehacks/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/Users/gollyzoom/Documents/GitHub/treehacks/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/gollyzoom/Documents/GitHub/treehacks/src/components/LoginForm.js\";\nimport React, { Component } from 'react';\nvar INITIAL_STATE = {\n  email: '',\n  password: '',\n  error: null\n};\n\nvar LoginForm =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(LoginForm, _React$Component);\n\n  function LoginForm(props) {\n    var _this;\n\n    _classCallCheck(this, LoginForm);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(LoginForm).call(this, props));\n\n    _this.onChange = function (event) {\n      _this.setState(_defineProperty({}, event.target.name, event.target.value));\n    };\n\n    _this.onSubmit = function () {\n      var element = _assertThisInitialized(_this);\n\n      var _this$state = _this.state,\n          email = _this$state.email,\n          password = _this$state.password;\n\n      _this.props.firebase.doSignInWithEmailAndPassword(email, password).then(function (authUser) {\n        var ID = authUser.user.uid;\n        /*this.props.firebase\n          .user(ID).once('value').then((snapshot)=>{\n            this.setState({ ...INITIAL_STATE });\n            this.props.checkLogin(snapshot.val());\n           });*/\n\n        _this.props.firebase.user(ID).get().then(function (doc) {\n          element.setState(_objectSpread({}, INITIAL_STATE)); // console.log(JSON.stringify(doc.data()));\n\n          element.props.checkLogin(doc.data());\n        });\n      }).catch(function (error) {\n        _this.setState({\n          error: error\n        });\n      });\n    };\n\n    _this.state = INITIAL_STATE;\n    return _this;\n  }\n\n  _createClass(LoginForm, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$state2 = this.state,\n          email = _this$state2.email,\n          password = _this$state2.password,\n          error = _this$state2.error;\n      var isInvalid = password === '' || email === '';\n      return React.createElement(\"div\", {\n        className: \"login-page\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }, \"Newroots\", React.createElement(\"button\", {\n        className: \"back-but\",\n        onClick: function onClick() {\n          return _this2.props.setLogin(false);\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        className: \"jam jam-arrow-left\",\n        style: {\n          color: '#635358'\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }))), React.createElement(\"input\", {\n        name: \"email\",\n        value: email,\n        onChange: this.onChange,\n        type: \"text\",\n        placeholder: \"Email\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }), React.createElement(\"input\", {\n        name: \"password\",\n        value: password,\n        onChange: this.onChange,\n        type: \"password\",\n        placeholder: \"Password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }), error && React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, error.message), React.createElement(\"button\", {\n        className: \"login-but\",\n        onClick: this.onSubmit,\n        disabled: isInvalid,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, \"Login\"));\n    }\n  }]);\n\n  return LoginForm;\n}(React.Component);\n\nexport default LoginForm;","map":{"version":3,"sources":["/Users/gollyzoom/Documents/GitHub/treehacks/src/components/LoginForm.js"],"names":["React","Component","INITIAL_STATE","email","password","error","LoginForm","props","onChange","event","setState","target","name","value","onSubmit","element","state","firebase","doSignInWithEmailAndPassword","then","authUser","ID","user","uid","get","doc","checkLogin","data","catch","isInvalid","setLogin","color","message"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\n\nconst INITIAL_STATE = {\n  email: '',\n  password: '',\n  error: null,\n};\n\nclass LoginForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = INITIAL_STATE;\n  }\n\n  onChange = event => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n  \n  onSubmit = () => {\n    let element = this;\n    const { email, password } = this.state;\n\n    this.props.firebase\n      .doSignInWithEmailAndPassword(email, password)\n      .then((authUser) => {\n        let ID = authUser.user.uid;\n\n        /*this.props.firebase\n          .user(ID).once('value').then((snapshot)=>{\n            this.setState({ ...INITIAL_STATE });\n            this.props.checkLogin(snapshot.val());\n\n          });*/\n        this.props.firebase.user(ID).get().then(function(doc){\n            element.setState({\n                ...INITIAL_STATE\n            });\n            // console.log(JSON.stringify(doc.data()));\n            element.props.checkLogin(doc.data());\n        });\n\n      })\n      .catch(error => {\n        this.setState({ error });\n      });\n  };\n\n  render() {\n    const { email, password, error } = this.state;\n\n    const isInvalid = password === '' || email === '';\n\n    return (\n      <div className=\"login-page\">\n      <h2>Newroots\n       <button className=\"back-but\" onClick={()=>this.props.setLogin(false) }>\n         <span className=\"jam jam-arrow-left\" style={{color: '#635358'}}></span>\n       </button>\n     </h2>\n     <input\n          name=\"email\"\n          value={email}\n          onChange={this.onChange}\n          type=\"text\"\n          placeholder=\"Email\"\n        />\n        <input\n          name=\"password\"\n          value={password}\n          onChange={this.onChange}\n          type=\"password\"\n          placeholder=\"Password\"\n        />\n      {error && <p>{error.message}</p>}\n     <button className=\"login-but\" onClick={this.onSubmit} disabled={isInvalid} >Login</button>\n   </div>\n    );\n  }\n}\n\nexport default LoginForm;"]},"metadata":{},"sourceType":"module"}